(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e,t,a){e.exports=a(439)},235:function(e,t,a){},236:function(e,t,a){},439:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),s=(a(234),a(235),a(201)),o=a(202),i=a(224),u=a(203),m=a(226),d=(a(236),a(80)),p=a(46),f=a(16),E=a(20),b=a.n(E),k=a(29),v=a(55),y=a(449),g=a(442),I=a(13),h=a(443),T=a(26),w=a(23),O=a.n(w);function j(){var e=Object(T.a)(["\n  mutation deleteTodo($id: ID!, $taskId: ID!) {\n    deleteTodo(where: { id: $id }, taskId: $taskId) {\n      id\n      name\n      completedBy {\n        name\n      }\n      status\n      updatedAt\n    }\n  }\n"]);return j=function(){return e},e}function N(){var e=Object(T.a)(["\n  mutation updateTodo($id: ID!, $taskId: ID!, $completedBy: ID!, $status: TodoStatus!) {\n    updateTodo(\n      where: { id: $id }\n      data: { completedBy: { connect: { id: $completedBy } }, status: $status }\n      taskId: $taskId\n    ) {\n      id\n      name\n      updatedAt\n      completedBy {\n        name\n      }\n      status\n    }\n  }\n"]);return N=function(){return e},e}function x(){var e=Object(T.a)(["\n  mutation updateTask($id: ID!, $taskName: String, $todo: String!, $userId: ID!) {\n    updateTask(\n      where: { id: $id }\n      data: { name: $taskName, list: { create: { name: $todo, createdBy: { connect: { id: $userId } } } } }\n    ) {\n      id\n      name\n      list {\n        id\n        name\n        status\n        createdAt\n        updatedAt\n        completedBy {\n          name\n        }\n        createdBy {\n          name\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}function C(){var e=Object(T.a)(["\n  mutation($serialNum: ID!) {\n    linkTask(serialNum: $serialNum) {\n      tasks {\n        id\n      }\n    }\n  }\n"]);return C=function(){return e},e}function $(){var e=Object(T.a)(["\n  mutation($taskId: ID!) {\n    deleteTask(where: { id: $taskId }) {\n      id\n    }\n  }\n"]);return $=function(){return e},e}function D(){var e=Object(T.a)(["\n  mutation ADD_TASK_MUTATION($name: String!) {\n    createTask(data: { name: $name }) {\n      id\n      name\n      serialNum {\n        serialNum\n      }\n    }\n  }\n"]);return D=function(){return e},e}var A=O()(D()),S=O()($()),B=O()(C()),_=O()(x()),q=O()(N()),L=O()(j());function P(){var e=Object(T.a)(["\n  query COOPERATORS_QUERY($userId: ID!) {\n    cooperators(userId: $userId) {\n      id\n      name\n    }\n  }\n"]);return P=function(){return e},e}function Q(){var e=Object(T.a)(["\n  query TASKS_QUERY($userId: ID!) {\n    tasks(where: { cooperators_some: { id: $userId } }) {\n      id\n      name\n      createdAt\n      cooperators {\n        id\n        name\n      }\n      list {\n        id\n        name\n        createdAt\n        updatedAt\n        completedBy {\n          name\n        }\n        createdBy {\n          name\n        }\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function U(){var e=Object(T.a)(["\n  query LIST_QUERY($id: ID!) {\n    task(where: { id: $id }) {\n      id\n      name\n      createdAt\n      list {\n        id\n        name\n        status\n        createdAt\n        updatedAt\n        completedBy {\n          name\n        }\n        createdBy {\n          name\n        }\n      }\n    }\n  }\n"]);return U=function(){return e},e}function F(){var e=Object(T.a)(["\n  query SINGLE_TASK_QUERY($id: ID!) {\n    task(where: { id: $id }) {\n      id\n      name\n      serialNum {\n        serialNum\n      }\n      list {\n        id\n        name\n      }\n    }\n  }\n"]);return F=function(){return e},e}function M(){var e=Object(T.a)(["\n  query ME_QUERY {\n    me {\n      id\n      name\n      tasks {\n        id\n        name\n        serialNum {\n          serialNum\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}var R=O()(M()),H=(O()(F()),O()(U())),K=O()(Q()),V=O()(P()),Y=y.a.Meta,z=function(e){var t=e.task;return r.a.createElement(f.b,{mutation:S,update:function(e,t){var a=t.data.deleteTask.id,n=e.readQuery({query:R}).me,r=e.readQuery({query:K,variables:{userId:n.id}}).tasks;r=r.filter(function(e){return e.id!==a});var c=Object(v.a)({},n,{tasks:n.tasks.filter(function(e){return e.id!==a})});e.writeQuery({query:R,data:{me:c}}),e.writeQuery({query:K,variables:{userId:n.id},data:{tasks:r}})},optimisticResponse:{__typename:"Mutation",deleteTask:{__typename:"Task",id:t.id}}},function(e){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement(y.a,{style:{width:"100%"},actions:[r.a.createElement(g.a,{placement:"topLeft",title:null,content:r.a.createElement("div",null,t.serialNum.serialNum),trigger:"click"},r.a.createElement(I.a,{type:"team"})),r.a.createElement(I.a,{onClick:Object(k.a)(b.a.mark(function a(){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e({variables:{taskId:t.id}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),type:"edit"})]},r.a.createElement(d.b,{to:"/list/".concat(t.id)},r.a.createElement(Y,{avatar:r.a.createElement("h5",null,"ge"),title:t.name,description:r.a.createElement("div",null,r.a.createElement(h.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},"US"),r.a.createElement(h.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},"AK"),r.a.createElement(h.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},"DK"))}))))})},G=r.a.memo(function(e){return r.a.createElement(f.c,{query:R},function(e){var t=e.loading,a=e.error,n=e.data;return t?r.a.createElement("p",null,"Loading..."):a?r.a.createElement("p",null,"Error :("):r.a.createElement("div",{className:"container p-3"},r.a.createElement("div",{className:"row"},n.me.tasks.map(function(e){return r.a.createElement(z,{key:e.id,task:e})})))})}),J=a(30),W=a(123),X=a(222),Z=a(448),ee=a(40),te=a(447),ae=a(157),ne=a(445),re=Object(n.createContext)([]),ce={user:{name:"",id:"",email:""}},le=function(e,t){switch(t.type){case"userLogin":return{user:t.user};default:return e}},se=function(e){return r.a.createElement(re.Provider,{value:Object(n.useReducer)(le,ce)},e.children)};re.Consumer;function oe(){var e=Object(T.a)(["\n  mutation signin($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      id\n      name\n    }\n  }\n"]);return oe=function(){return e},e}var ie=O()(oe()),ue=r.a.memo(ne.a.create()(function(e){var t=e.form.getFieldDecorator,a=Object(n.useContext)(re),c=Object(J.a)(a,2),l=(c[0],c[1]),s=Object(n.useCallback)(function(e,t){return o(e,t)}),o=function(){var t=Object(k.a)(b.a.mark(function t(a,n){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.form.validateFields(function(){var e=Object(k.a)(b.a.mark(function e(t,a){var r,c,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=Object(v.a)({},a),e.next=4,n({variables:r});case 4:c=e.sent,s=c.data.signin,l({type:"userLogin",user:{name:s.name,id:s.id,email:s.email}}),console.log("Hello res",s);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(f.b,{mutation:ie,refetchQueries:[{query:R}]},function(e,a){return a.loading,r.a.createElement(ne.a,{onSubmit:function(t){return s(t,e)},className:"login-form"},r.a.createElement(ne.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"E-Mail"}))),r.a.createElement(ne.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(ne.a.Item,null,r.a.createElement("div",{className:"d-flex flex-column "},r.a.createElement(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"))))})}));function me(){var e=Object(T.a)(["\n  mutation createUser($username: String!, $email: String!, $password: String!) {\n    createUser(data: { name: $username, email: $email, password: $password }) {\n      id\n      name\n    }\n  }\n"]);return me=function(){return e},e}var de=O()(me()),pe=ne.a.create()(function(e){var t=e.form.getFieldDecorator,a=function(){var t=Object(k.a)(b.a.mark(function t(a,n){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.form.validateFields(function(){var e=Object(k.a)(b.a.mark(function e(t,a){var r,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return console.log("Received values of form: ",a),r=Object(v.a)({},a),console.log("Hello data",r),e.next=6,n({variables:r});case 6:c=e.sent,console.log("Hello res",c);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(f.b,{mutation:de},function(e,n){return n.loading,r.a.createElement(ne.a,{onSubmit:function(t){return a(t,e)},className:"login-form"},r.a.createElement(ne.a.Item,null,t("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(ne.a.Item,null,t("email",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"E-Mail"}))),r.a.createElement(ne.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(ne.a.Item,null,t("comfirm password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Enter Password Again"}))),r.a.createElement(ne.a.Item,null,r.a.createElement("div",{className:"d-flex flex-column "},r.a.createElement(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Sign Up"),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"))))})}),fe=ae.a.TabPane,Ee=function(){var e=Object(n.useState)("1"),t=Object(J.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"container p-3"},r.a.createElement(ae.a,{defaultActiveKey:a,onChange:function(e){return c(e)}},r.a.createElement(fe,{tab:"SIGN IN",key:"1"},r.a.createElement(ue,null)),r.a.createElement(fe,{tab:"SIGN UP",key:"2"},r.a.createElement(pe,null))))},be=Object(n.createContext)(void 0),ke=function(e){var t=Object(n.useState)(!0),a=Object(J.a)(t,2),c=a[0],l=a[1];return r.a.createElement(f.c,{query:R},function(t){var a=t.loading,n=t.error,s=t.data;return console.log("login",s),n?"error":a?"loading":s.me?r.a.createElement(be.Provider,{value:s.me},e.children):r.a.createElement(te.a,{visible:c,title:null,closable:!1,maskClosable:!1,onCancel:function(){return l(!1)},footer:null},r.a.createElement(Ee,{showModal:c}))})},ve=function(e){var t=Object(n.useState)(""),a=Object(J.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(be);return r.a.createElement(f.b,{mutation:_,update:function(t,a){var n=a.data.updateTask,r=t.readQuery({query:H,variables:{id:e.taskId}});r.task.list=Object(X.a)(n.list),t.writeQuery({query:H,variables:{id:e.taskId},data:r})},optimisticResponse:{__typename:"Mutation",updateTask:{__typename:"Task",id:e.taskId,name:e.taskName,list:e.list}}},function(t,a){return a.loading,r.a.createElement("div",{className:"creationInput"},r.a.createElement(Z.a,{onChange:function(e){return l(e.target.value)},style:{width:"200px"},className:"mr-3",value:c}),r.a.createElement(ee.a,{onClick:function(){var a=Object(k.a)(b.a.mark(function a(n){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,t({variables:{id:e.taskId,todo:c,userId:s.id}});case 3:l("");case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},"Add"))})},ye=a(121),ge=a(158),Ie=a(446),he=a(63),Te=a.n(he),we=function(e){var t=Object(n.useContext)(be);return r.a.createElement(f.b,{mutation:q,refetchQueries:[{query:H,variables:{id:e.taskId}}]},function(a,n){return n.loading,r.a.createElement(ee.a,{icon:"check",onClick:function(){var n=Object(k.a)(b.a.mark(function n(r){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a({variables:{id:e.todoId,taskId:e.taskId,completedBy:t.id,status:"COMPLETED"}});case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},"Complete")})},Oe=function(e){return r.a.createElement(f.b,{mutation:L,optimisticResponse:{__typename:"Mutation",deleteTodo:{__typename:"Todo",id:e.todoId}},update:function(t,a){var n=a.data.deleteTodo,r=t.readQuery({query:H,variables:{id:e.taskId}}).task;r.list=r.list.filter(function(e){return e.id!==n.id}),t.writeQuery({query:H,variables:{id:e.taskId},data:{task:r}})}},function(t,a){return a.loading,r.a.createElement(ee.a,{icon:"delete",style:{width:"100%"},className:"d-flex justify-content-start",onClick:Object(k.a)(b.a.mark(function a(){return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t({variables:{id:e.todoId,taskId:e.taskId}});case 2:case"end":return a.stop()}},a)}))},"Delete")})},je=function(e){var t=Object(n.useContext)(be);return r.a.createElement(f.b,{mutation:q,refetchQueries:[{query:H,variables:{id:e.taskId}}]},function(a,n){return n.loading,r.a.createElement(ee.a,{icon:"check",onClick:Object(k.a)(b.a.mark(function n(){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a({variables:{id:e.todoId,taskId:e.taskId,completedBy:t.id,status:"ACTIVE"}});case 2:case"end":return n.stop()}},n)}))},"ACTIVE")})},Ne=Object(p.e)(function(e){var t=[{title:"Description",dataIndex:"name",width:"25%",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",null,e),r.a.createElement("span",{className:"text-muted"},r.a.createElement(Te.a,{date:t.createdAt})))}},{title:"Completed",width:"25%",dataIndex:"completedBy",render:function(e,t){return e?r.a.createElement("h5",null,r.a.createElement("span",{className:"badge badge-pill badge-success"},e.name)):"n/a"}},{title:"Actions",width:"25%",dataIndex:"id",render:function(t,a){return r.a.createElement(ye.a,{placement:"bottomCenter",overlay:r.a.createElement(ge.a,null,r.a.createElement(ge.a.Item,{key:"1"},r.a.createElement(we,{todoId:t,taskId:e.match.params.TaskId})),r.a.createElement(ge.a.Item,{key:"2"},r.a.createElement(je,{todoId:t,taskId:e.match.params.TaskId})),r.a.createElement(ge.a.Item,{key:"3"},r.a.createElement(Oe,{todoId:t,taskId:e.match.params.TaskId})))},r.a.createElement(ee.a,{style:{marginLeft:8}},r.a.createElement(I.a,{type:"edit"})))}}],a=e.task,c=e.todoStatus,l=e.subscribeToNewTodos,s=(e.subscribeToEditTodos,e.subscribeToDeleteTodos),o="ALL"===c?a.list:a.list.filter(function(e){return e.status===c});return Object(n.useEffect)(function(){l(),s()},[]),r.a.createElement("div",{className:"col-12"},r.a.createElement(Ie.a,{rowKey:function(e){return e.id},columns:t,dataSource:o}))});function xe(){var e=Object(T.a)(["\n  subscription DeleteTodo($taskIds: [ID]!) {\n    DeleteTodo(taskIds: $taskIds) {\n      id\n      name\n      updatedAt\n    }\n  }\n"]);return xe=function(){return e},e}function Ce(){var e=Object(T.a)(["\n  subscription UpdateTodo($taskIds: [ID]!) {\n    UpdateTodo(taskIds: $taskIds) {\n      id\n      name\n      __typename\n      status\n      completedBy {\n        name\n      }\n    }\n  }\n"]);return Ce=function(){return e},e}function $e(){var e=Object(T.a)(["\n  subscription TaskAdded($taskId: ID!) {\n    TaskAdded(taskId: $taskId) {\n      id\n      name\n      list {\n        id\n        name\n        status\n        createdAt\n        updatedAt\n        completedBy {\n          name\n        }\n        createdBy {\n          name\n        }\n      }\n    }\n  }\n"]);return $e=function(){return e},e}var De=O()($e()),Ae=O()(Ce()),Se=O()(xe()),Be=Object(n.createContext)(void 0),_e={tasks:[]},qe=function(e,t){switch(t.type){case"reset":return _e;case"updateTasks":return{tasks:t.data};case"updateSubscripTasks":return{tasks:e.tasks.map(function(e){return e.id===t.data.id?t.data:e})};default:return e}},Le=(Be.Consumer,Object(f.e)(function(e){return r.a.createElement(Be.Provider,{value:Object(n.useReducer)(qe,_e)},e.children)})),Pe=function(){return Object(n.useContext)(Be)},Qe=Object(p.e)(function(e){var t=Object(n.useContext)(be),a=Object(n.useState)("ALL"),c=Object(J.a)(a,2),l=c[0],s=c[1],o=Pe(),i=Object(J.a)(o,2),u=(i[0],i[1]);return r.a.createElement(f.c,{query:H,variables:{id:e.match.params.TaskId}},function(a){var n=a.loading,c=a.error,o=a.data,i=a.subscribeToMore;if(n)return r.a.createElement("p",null,"Loading...");if(c)return r.a.createElement("p",null,"Error :(");var m=o.task;return r.a.createElement("div",{className:"container bg-white p-3"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-12 d-flex justify-content-between"},r.a.createElement(ve,{taskId:e.match.params.TaskId,taskName:m.name,list:m.list}),r.a.createElement(W.a.Group,{value:l,onChange:function(e){return s(e.target.value)}},r.a.createElement(W.a.Button,{value:"ALL"},"ALL"),r.a.createElement(W.a.Button,{value:"ACTIVE"},"ACTIVE"),r.a.createElement(W.a.Button,{value:"COMPLETED"},"COMPLETED")))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement(Ne,{task:m,todoStatus:l,subscribeToNewTodos:function(){return i({document:De,variables:{taskId:t.id},updateQuery:function(e,t){return t.subscriptionData,u({type:"updateSubscripTasks",data:e.task}),Object(v.a)({},e)}})},subscribeToEditTodos:function(){return i({document:Ae,variables:{taskIds:[e.match.params.TaskId]},updateQuery:function(e,t){var a=t.subscriptionData;return console.log("Hello prev.task",e.task),console.log("Hello subscriptionData",a),u({type:"updateSubscripTasks",data:e.task}),e}})},subscribeToDeleteTodos:function(){return i({document:Se,variables:{taskIds:[e.match.params.TaskId]},updateQuery:function(e,t){var a=t.subscriptionData;if(a.data.DeleteTodo){var n=a.data.DeleteTodo.id;e.task.list=e.task.list.filter(function(e){return e.id!==n})}return e}})}})))})}),Ue=a(451),Fe=a(450),Me=a(444),Re=ne.a.create()(function(e){var t=Object(n.useState)(""),a=Object(J.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(J.a)(s,2),i=o[0],u=o[1],m=Object(n.useContext)(be),d=e.form,p=d.getFieldDecorator,E=d.setFieldsValue,y=d.validateFields,g=function(t,a){t.preventDefault(),u(!0),y(function(){var t=Object(k.a)(b.a.mark(function t(n,r){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n){t.next=7;break}return t.next=4,a({variables:{name:r.taskName}});case 4:E({taskName:""}),e.switchModal(!1),u(!1);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("createTask error",t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}())};return r.a.createElement(ne.a,{onSubmit:g,className:"login-form"},r.a.createElement(f.b,{mutation:A,refetchQueries:[{query:K,variables:{userId:m.id}}],update:function(e,t){var a=t.data.createTask,n=e.readQuery({query:R}).me,r=Object(v.a)({},n,{tasks:n.tasks.concat([a])});e.writeQuery({query:R,data:{me:r}})}},function(e,t){return t.loading,r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a.Item,null,r.a.createElement("h6",null,"Create Task"),p("taskName",{rules:[{required:!0,message:"Please input your Task Name!"}]})(r.a.createElement(Z.a,{size:"large",prefix:r.a.createElement(I.a,{type:"book",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Task Name"}))),r.a.createElement(ne.a.Item,null,r.a.createElement(ee.a,{disabled:i,onClick:function(t){return g(t,e)},htmlType:"submit",type:"primary",block:!0},"CREATE")))}),r.a.createElement(Me.a,null," or "),r.a.createElement(f.b,{mutation:B,refetchQueries:[{query:R}]},function(e,t){return t.loading,r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a.Item,null,r.a.createElement("h6",null,"Join a Task"),r.a.createElement(Z.a,{size:"large",prefix:r.a.createElement(I.a,{type:"book",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Task ID",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement(ne.a.Item,null,r.a.createElement(ee.a,{block:!0,onClick:Object(k.a)(b.a.mark(function t(){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:{serialNum:c}});case 2:a=t.sent,console.log("Hello res",a);case 4:case"end":return t.stop()}},t)}))},"JOIN")))}))}),He=a(452),Ke=function(e){return r.a.createElement(He.a,{itemLayout:"vertical",dataSource:e.tasks,renderItem:function(e){var t=e.list.slice(-1)[0];return r.a.createElement(He.a.Item,null,r.a.createElement(He.a.Item.Meta,{className:"mb-0",avatar:t?r.a.createElement(h.a,{style:{backgroundColor:"#87d068"}},t.completedBy?t.completedBy.name[0]:t.createdBy.name[0]):r.a.createElement(h.a,{icon:"user"}),title:e.name,description:r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,t.completedBy?r.a.createElement("span",null,t.name," ",r.a.createElement("b",null,"Completed")," by ",t.completedBy.name):r.a.createElement("span",null,t.name," ",r.a.createElement("b",null,"Created")," by ",t.createdBy.name),r.a.createElement("div",{className:"d-flex mt-1 align-items-center"},r.a.createElement(I.a,{type:"clock-circle",className:"mr-2"}),r.a.createElement(Te.a,{date:t.updatedAt}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Task ",r.a.createElement("b",null,"Created")),r.a.createElement("div",{className:"d-flex mt-1 align-items-center"},r.a.createElement(I.a,{type:"clock-circle",className:"mr-2"}),r.a.createElement(Te.a,{date:e.createdAt}))))}))}})},Ve=a(219),Ye=a.n(Ve),ze=function(e){var t=Pe(),a=Object(J.a)(t,2),c=a[0].tasks,l=a[1];return Object(n.useEffect)(function(){l({type:"updateTasks",data:e.tasks})},[]),console.log("Hello tasks",c),r.a.createElement(He.a,{itemLayout:"vertical",dataSource:c,renderItem:function(e){var t=Ye()(e.list,"updatedAt").slice(-1)[0];return console.log("Hello latestTodo",t),r.a.createElement(He.a.Item,null,r.a.createElement(He.a.Item.Meta,{className:"mb-0",avatar:t?r.a.createElement(h.a,{style:{backgroundColor:"#87d068"}},t.completedBy?t.completedBy.name[0]:t.createdBy.name[0]):r.a.createElement(h.a,{icon:"user"}),title:e.name,description:r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,t.completedBy?r.a.createElement("span",null,t.name," ",r.a.createElement("b",null,"Completed")," by ",t.completedBy.name):r.a.createElement("span",null,t.name," ",r.a.createElement("b",null,"Created")," by ",t.createdBy.name),r.a.createElement("div",{className:"d-flex mt-1 align-items-center"},r.a.createElement(I.a,{type:"clock-circle",className:"mr-2"}),r.a.createElement(Te.a,{date:t.updatedAt}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Task ",r.a.createElement("b",null,"Created")),r.a.createElement("div",{className:"d-flex mt-1 align-items-center"},r.a.createElement(I.a,{type:"clock-circle",className:"mr-2"}),r.a.createElement(Te.a,{date:e.createdAt}))))}))}})},Ge=ae.a.TabPane,Je=function(e){Object(n.useContext)(be);var t=e.tasks,a=e.corporateTasks;return r.a.createElement(ae.a,{defaultActiveKey:"1",onChange:function(){}},r.a.createElement(Ge,{tab:r.a.createElement("span",null,r.a.createElement(I.a,{type:"user"}),"Personal"),key:"1"},r.a.createElement(Ke,{tasks:t})),r.a.createElement(Ge,{tab:r.a.createElement("span",null,r.a.createElement(I.a,{type:"team"}),"Corporate"),key:"2"},r.a.createElement(ze,{tasks:a})))},We=a(122),Xe=function(e){var t=e.User;return r.a.createElement(f.c,{query:V,variables:{userId:t.id}},function(e){var t=e.data,a=e.loading,n=e.error;if(a)return"Loading...";if(n)return"Error...";var c=t.cooperators;return r.a.createElement("div",{className:"personal__corporatersList"},c.map(function(e){return r.a.createElement(We.a,{key:e.id,placement:"top",title:e.name},r.a.createElement(h.a,{size:30},e.name[0]))}))})},Ze=a(220),et=a.n(Ze),tt=Ue.a.Sider,at=function(e){var t=Object(n.useState)(!1),a=Object(J.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({}),o=Object(J.a)(s,2),i=o[0],u=o[1],m=Object(n.useContext)(be);return Object(n.useEffect)(function(){!et()(i)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t="success"===e?"Todo item ".concat(i.name," has been created by ").concat(i.createdBy.name):i.message;Fe.a[e]({message:"Notification Title",description:t,onClick:function(){console.log("Notification Clicked!")}})}(i.type)}),r.a.createElement(f.c,{query:K,variables:{userId:m.id}},function(e){var t=e.data,a=e.loading;if(e.error)return"error";if(a)return"loading";var n=t.tasks,s=n.filter(function(e){return e.cooperators.length>1});return r.a.createElement(tt,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){},theme:"light",width:"380",className:"shadow"},r.a.createElement("div",{className:"personal p-3"},r.a.createElement("div",{className:"personal__info d-flex mt-5 mb-4"},r.a.createElement("div",{className:"personal__avatar"},r.a.createElement(h.a,{size:64,icon:"user"})),r.a.createElement("div",{className:"personal__name d-flex align-items-center p-3"},m.name)),r.a.createElement("hr",null),r.a.createElement("div",{className:"personal__tasks mt-5 w-100 position-static"},r.a.createElement("h5",null,"Tasks"),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ee.a,{onClick:function(){return l(!0)},shape:"circle",icon:"plus"})),r.a.createElement(Je,{tasks:n,corporateTasks:s})),r.a.createElement("hr",null),r.a.createElement("div",{className:"personal__corporaters mt-5"},r.a.createElement("h5",null,"Corporaters"),r.a.createElement(Xe,{User:m})),r.a.createElement(te.a,{visible:c,title:null,closable:!1,onCancel:function(){return l(!1)},footer:null},r.a.createElement(Re,{switchModal:l}))),r.a.createElement(f.d,{subscription:De,variables:{taskId:m.id}},function(e){var t=e.data;if(e.loading,t&&t.TaskAdded){var a=t.TaskAdded.list.slice(-1)[0];u(a)}return null}),r.a.createElement(f.d,{subscription:Ae,variables:{taskIds:s.map(function(e){return e.id})}},function(e){var t=e.data;if(e.loading,t&&t.UpdateTodo){var a="Todo item ".concat(t.UpdateTodo.name," has been updated by ").concat(t.UpdateTodo.completedBy.name);u({message:a,type:"info"})}return null}),r.a.createElement(f.d,{subscription:Se,variables:{taskIds:s.map(function(e){return e.id})}},function(e){var t=e.data;if(e.loading,t&&t.DeleteTodo){var a="Todo item ".concat(t.DeleteTodo.name," was delete at ").concat(t.DeleteTodo.updatedAt);u({message:a,type:"warning"})}return null}))})},nt=a(83),rt=a(225),ct=a(223),lt=a(31),st=a(221),ot=a(5),it=Ue.a.Header,ut=Ue.a.Content,mt=Ue.a.Footer;console.log("Hello process.env.NODE_ENV","production");var dt=new ct.a({uri:"https://gqtodolist-prod.herokuapp.com/",credentials:"include"}),pt=new st.a({uri:"wss://gqtodolist-prod.herokuapp.com/",options:{reconnect:!0}}),ft=Object(lt.d)(function(e){var t=e.query,a=Object(ot.k)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r},pt,dt),Et=new nt.a({link:ft,cache:new rt.a}),bt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{client:Et},r.a.createElement(d.a,{basename:"/"},r.a.createElement(se,null,r.a.createElement(ke,null,r.a.createElement(Le,null,r.a.createElement(Ue.a,{className:"app__container"},r.a.createElement(at,null),r.a.createElement(Ue.a,null,r.a.createElement(it,{style:{background:"#fff",padding:0}},r.a.createElement(d.b,{className:"ml-3",to:"/"},r.a.createElement(ee.a,{shape:"circle",icon:"left"}))),r.a.createElement(ut,{style:{margin:"24px 16px 0"}},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:G}),r.a.createElement(p.a,{path:"/list/:TaskId",component:Qe}),r.a.createElement(p.a,{path:"/login",component:Ee}))),r.a.createElement(mt,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[229,1,2]]]);
//# sourceMappingURL=main.589cb610.chunk.js.map